{
  "parserVersion": "0.1.1",
  "astVersion": "1.0",
  "project": {
    "name": "sample.ecommerce"
  },
  "sources": [
    "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md"
  ],
  "models": [
    {
      "name": "Customer",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 52,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [
        {
          "name": "public"
        }
      ],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 56,
            "col": 1
          }
        },
        {
          "name": "email",
          "type": "email",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "Primary contact email",
          "attributes": [
            {
              "name": "unique"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 57,
            "col": 1
          }
        },
        {
          "name": "name",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            },
            {
              "name": "searchable"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 58,
            "col": 1
          }
        },
        {
          "name": "phone",
          "type": "phone",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 59,
            "col": 1
          }
        },
        {
          "name": "status",
          "type": "enum",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "\"active\"",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 60,
            "col": 1
          },
          "enum_values": [
            {
              "name": "active",
              "description": "Active"
            },
            {
              "name": "inactive",
              "description": "Inactive"
            },
            {
              "name": "suspended",
              "description": "Suspended"
            }
          ]
        },
        {
          "name": "loyalty_points",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "attributes": [
            {
              "name": "min",
              "args": [
                "0"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 64,
            "col": 1
          }
        },
        {
          "name": "is_verified",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "false",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 65,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {
          "table_name": "customers",
          "audit_enabled": true
        }
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 52,
        "col": 1
      },
      "description": "Primary customer entity for the e-commerce platform."
    },
    {
      "name": "Address",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 73,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 77,
            "col": 1
          }
        },
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Customer"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 78,
            "col": 1
          }
        },
        {
          "name": "label",
          "type": "string",
          "params": [
            50
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "\"Home\"",
          "description": "Address label (Home, Office, etc.)",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 79,
            "col": 1
          }
        },
        {
          "name": "street",
          "type": "string",
          "params": [
            200
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 80,
            "col": 1
          }
        },
        {
          "name": "city",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 81,
            "col": 1
          }
        },
        {
          "name": "state",
          "type": "string",
          "params": [
            100
          ],
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 82,
            "col": 1
          }
        },
        {
          "name": "postal_code",
          "type": "string",
          "params": [
            20
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 83,
            "col": 1
          }
        },
        {
          "name": "country",
          "type": "string",
          "params": [
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "ISO 3166-1 alpha-2",
          "attributes": [
            {
              "name": "not_null"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 84,
            "col": 1
          }
        },
        {
          "name": "is_default",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "false",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 85,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "type": "directive",
            "raw": "@index(customer_id)",
            "args": "customer_id",
            "loc": {
              "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
              "line": 87,
              "col": 1
            }
          }
        ],
        "relations": [],
        "behaviors": [],
        "metadata": {},
        "unique": [
          {
            "raw": "@unique(customer_id, label)",
            "args": "customer_id, label"
          }
        ]
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 73,
        "col": 1
      },
      "description": "Shipping and billing address."
    },
    {
      "name": "Category",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 92,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 94,
            "col": 1
          }
        },
        {
          "name": "name",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            },
            {
              "name": "searchable"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 95,
            "col": 1
          }
        },
        {
          "name": "slug",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "unique"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 96,
            "col": 1
          }
        },
        {
          "name": "parent_id",
          "type": "identifier",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Category"
              ],
              "cascade": "?"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 97,
            "col": 1
          }
        },
        {
          "name": "sort_order",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 98,
            "col": 1
          }
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "true",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 99,
            "col": 1
          }
        },
        {
          "name": "parent_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "parent_id.name"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 102,
            "col": 1
          },
          "lookup": {
            "path": "parent_id.name"
          }
        },
        {
          "name": "product_count",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "Product.category_id, count"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 105,
            "col": 1
          },
          "rollup": {
            "target": "Product",
            "fk": "category_id",
            "aggregate": "count"
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 92,
        "col": 1
      }
    },
    {
      "name": "Product",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 109,
      "inherits": [
        "Timestampable",
        "Auditable"
      ],
      "attributes": [
        {
          "name": "public"
        }
      ],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "created_by",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 15,
            "col": 1
          }
        },
        {
          "name": "updated_by",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 16,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 113,
            "col": 1
          }
        },
        {
          "name": "sku",
          "type": "string",
          "params": [
            50
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "Stock Keeping Unit",
          "attributes": [
            {
              "name": "unique"
            },
            {
              "name": "not_null"
            },
            {
              "name": "immutable"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 114,
            "col": 1
          }
        },
        {
          "name": "name",
          "type": "string",
          "params": [
            200
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            },
            {
              "name": "searchable"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 115,
            "col": 1
          }
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 116,
            "col": 1
          }
        },
        {
          "name": "category_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Category"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 117,
            "col": 1
          }
        },
        {
          "name": "price",
          "type": "decimal",
          "params": [
            10,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            },
            {
              "name": "min",
              "args": [
                "0"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 118,
            "col": 1
          }
        },
        {
          "name": "cost",
          "type": "decimal",
          "params": [
            10,
            2
          ],
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "min",
              "args": [
                "0"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 119,
            "col": 1
          }
        },
        {
          "name": "weight",
          "type": "float",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "Weight in kg",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 120,
            "col": 1
          }
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "true",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 121,
            "col": 1
          }
        },
        {
          "name": "tags",
          "type": "string",
          "nullable": false,
          "array": true,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 122,
            "col": 1
          }
        },
        {
          "name": "category_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "category_id.name"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 125,
            "col": 1
          },
          "lookup": {
            "path": "category_id.name"
          }
        },
        {
          "name": "profit_margin",
          "type": "decimal",
          "params": [
            5,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"(price - cost) / price * 100\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 128,
            "col": 1
          },
          "computed": {
            "expression": "(price - cost) / price * 100"
          }
        },
        {
          "name": "display_price",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"FORMAT(price, '$#,##0.00')\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 129,
            "col": 1
          },
          "computed": {
            "expression": "FORMAT(price, '$#,##0.00')"
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "name": "idx_category",
            "loc": {
              "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
              "line": 132,
              "col": 1
            },
            "fields": [
              "category_id",
              "is_active"
            ]
          },
          {
            "name": "idx_price",
            "loc": {
              "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
              "line": 134,
              "col": 1
            },
            "fields": [
              "price"
            ]
          }
        ],
        "relations": [
          {
            "raw": "category: >Category via category_id",
            "loc": {
              "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
              "line": 138,
              "col": 1
            }
          }
        ],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 109,
        "col": 1
      },
      "description": "Product catalog item."
    },
    {
      "name": "Inventory",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 142,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 144,
            "col": 1
          }
        },
        {
          "name": "product_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Product"
              ],
              "cascade": "!"
            },
            {
              "name": "unique"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 145,
            "col": 1
          }
        },
        {
          "name": "quantity",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "attributes": [
            {
              "name": "min",
              "args": [
                "0"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 146,
            "col": 1
          }
        },
        {
          "name": "reserved",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "attributes": [
            {
              "name": "min",
              "args": [
                "0"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 147,
            "col": 1
          }
        },
        {
          "name": "reorder_point",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "10",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 148,
            "col": 1
          }
        },
        {
          "name": "reorder_qty",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "50",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 149,
            "col": 1
          }
        },
        {
          "name": "available",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"quantity - reserved\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 152,
            "col": 1
          },
          "computed": {
            "expression": "quantity - reserved"
          }
        },
        {
          "name": "needs_reorder",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"available <= reorder_point\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 153,
            "col": 1
          },
          "computed": {
            "expression": "available <= reorder_point"
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 142,
        "col": 1
      }
    },
    {
      "name": "Order",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 157,
      "inherits": [
        "Timestampable",
        "Auditable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "created_by",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 15,
            "col": 1
          }
        },
        {
          "name": "updated_by",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 16,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 161,
            "col": 1
          }
        },
        {
          "name": "order_number",
          "type": "string",
          "params": [
            20
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "unique"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 162,
            "col": 1
          }
        },
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Customer"
              ],
              "cascade": "!!"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 163,
            "col": 1
          }
        },
        {
          "name": "status",
          "type": "OrderStatus",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "\"draft\"",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 164,
            "col": 1
          }
        },
        {
          "name": "shipping_address_id",
          "type": "identifier",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Address"
              ],
              "cascade": "?"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 165,
            "col": 1
          }
        },
        {
          "name": "billing_address_id",
          "type": "identifier",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Address"
              ],
              "cascade": "?"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 166,
            "col": 1
          }
        },
        {
          "name": "payment_method",
          "type": "PaymentMethod",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 167,
            "col": 1
          }
        },
        {
          "name": "notes",
          "type": "text",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 168,
            "col": 1
          }
        },
        {
          "name": "ordered_at",
          "type": "timestamp",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 169,
            "col": 1
          }
        },
        {
          "name": "shipped_at",
          "type": "timestamp",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 170,
            "col": 1
          }
        },
        {
          "name": "delivered_at",
          "type": "timestamp",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 171,
            "col": 1
          }
        },
        {
          "name": "customer_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "customer_id.name"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 174,
            "col": 1
          },
          "lookup": {
            "path": "customer_id.name"
          }
        },
        {
          "name": "customer_email",
          "type": "email",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "customer_id.email"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 175,
            "col": 1
          },
          "lookup": {
            "path": "customer_id.email"
          }
        },
        {
          "name": "shipping_city",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "shipping_address_id.city"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 176,
            "col": 1
          },
          "lookup": {
            "path": "shipping_address_id.city"
          }
        },
        {
          "name": "item_count",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "OrderItem.order_id, count"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 179,
            "col": 1
          },
          "rollup": {
            "target": "OrderItem",
            "fk": "order_id",
            "aggregate": "count"
          }
        },
        {
          "name": "subtotal",
          "type": "decimal",
          "params": [
            12,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "OrderItem.order_id, sum(line_total)"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 180,
            "col": 1
          },
          "rollup": {
            "target": "OrderItem",
            "fk": "order_id",
            "aggregate": "sum",
            "field": "line_total"
          }
        },
        {
          "name": "total_quantity",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "OrderItem.order_id, sum(quantity)"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 181,
            "col": 1
          },
          "rollup": {
            "target": "OrderItem",
            "fk": "order_id",
            "aggregate": "sum",
            "field": "quantity"
          }
        },
        {
          "name": "tax_amount",
          "type": "decimal",
          "params": [
            12,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"subtotal * 0.1\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 184,
            "col": 1
          },
          "computed": {
            "expression": "subtotal * 0.1"
          }
        },
        {
          "name": "grand_total",
          "type": "decimal",
          "params": [
            12,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"subtotal + tax_amount\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 185,
            "col": 1
          },
          "computed": {
            "expression": "subtotal + tax_amount"
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "name": "idx_customer_date",
            "loc": {
              "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
              "line": 188,
              "col": 1
            },
            "fields": [
              "customer_id",
              "ordered_at"
            ]
          },
          {
            "name": "idx_status",
            "loc": {
              "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
              "line": 190,
              "col": 1
            },
            "fields": [
              "status"
            ]
          }
        ],
        "relations": [],
        "behaviors": [
          {
            "name": "before_create",
            "raw": "- before_create: generate_order_number",
            "loc": {
              "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
              "line": 194,
              "col": 1
            }
          }
        ],
        "metadata": {
          "table_name": "orders",
          "soft_delete": true
        }
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 157,
        "col": 1
      },
      "description": "Customer order with items, totals, and status tracking."
    },
    {
      "name": "OrderItem",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 202,
      "inherits": [],
      "attributes": [],
      "fields": [
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 204,
            "col": 1
          }
        },
        {
          "name": "order_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Order"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 205,
            "col": 1
          }
        },
        {
          "name": "product_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Product"
              ],
              "cascade": "!"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 206,
            "col": 1
          }
        },
        {
          "name": "quantity",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            },
            {
              "name": "min",
              "args": [
                "1"
              ]
            },
            {
              "name": "max",
              "args": [
                "9999"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 207,
            "col": 1
          }
        },
        {
          "name": "unit_price",
          "type": "decimal",
          "params": [
            10,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 208,
            "col": 1
          }
        },
        {
          "name": "discount_pct",
          "type": "decimal",
          "params": [
            5,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "attributes": [
            {
              "name": "min",
              "args": [
                "0"
              ]
            },
            {
              "name": "max",
              "args": [
                "100"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 209,
            "col": 1
          }
        },
        {
          "name": "product_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "product_id.name"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 212,
            "col": 1
          },
          "lookup": {
            "path": "product_id.name"
          }
        },
        {
          "name": "product_sku",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "product_id.sku"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 213,
            "col": 1
          },
          "lookup": {
            "path": "product_id.sku"
          }
        },
        {
          "name": "discount_amount",
          "type": "decimal",
          "params": [
            10,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"unit_price * quantity * discount_pct / 100\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 216,
            "col": 1
          },
          "computed": {
            "expression": "unit_price * quantity * discount_pct / 100"
          }
        },
        {
          "name": "line_total",
          "type": "decimal",
          "params": [
            12,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"unit_price * quantity - discount_amount\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 217,
            "col": 1
          },
          "computed": {
            "expression": "unit_price * quantity - discount_amount"
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {},
        "unique": [
          {
            "raw": "@unique(order_id, product_id)",
            "args": "order_id, product_id"
          }
        ]
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 202,
        "col": 1
      }
    },
    {
      "name": "Review",
      "type": "model",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 223,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated"
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 225,
            "col": 1
          }
        },
        {
          "name": "product_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Product"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 226,
            "col": 1
          }
        },
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Customer"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 227,
            "col": 1
          }
        },
        {
          "name": "rating",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null"
            },
            {
              "name": "min",
              "args": [
                "1"
              ]
            },
            {
              "name": "max",
              "args": [
                "5"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 228,
            "col": 1
          }
        },
        {
          "name": "title",
          "type": "string",
          "params": [
            200
          ],
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 229,
            "col": 1
          }
        },
        {
          "name": "body",
          "type": "text",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 230,
            "col": 1
          }
        },
        {
          "name": "is_verified",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "false",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 231,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {},
        "unique": [
          {
            "raw": "@unique(product_id, customer_id)",
            "args": "product_id, customer_id"
          }
        ]
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 223,
        "col": 1
      }
    }
  ],
  "enums": [
    {
      "name": "CustomerStatus",
      "type": "enum",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 20,
      "values": [
        {
          "name": "active",
          "description": "Active"
        },
        {
          "name": "inactive",
          "description": "Inactive"
        },
        {
          "name": "suspended",
          "description": "Suspended"
        },
        {
          "name": "pending",
          "description": "Pending Verification"
        }
      ],
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 20,
        "col": 1
      }
    },
    {
      "name": "PaymentMethod",
      "type": "enum",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 27,
      "values": [
        {
          "name": "credit_card",
          "description": "Credit Card"
        },
        {
          "name": "bank_transfer",
          "description": "Bank Transfer"
        },
        {
          "name": "paypal",
          "description": "PayPal"
        },
        {
          "name": "cash",
          "description": "Cash on Delivery"
        }
      ],
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 27,
        "col": 1
      }
    },
    {
      "name": "OrderStatus",
      "type": "enum",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 34,
      "values": [
        {
          "name": "draft",
          "description": "Draft"
        },
        {
          "name": "confirmed",
          "description": "Confirmed"
        },
        {
          "name": "processing",
          "description": "Processing"
        },
        {
          "name": "shipped",
          "description": "Shipped"
        },
        {
          "name": "delivered",
          "description": "Delivered"
        },
        {
          "name": "cancelled",
          "description": "Cancelled"
        },
        {
          "name": "returned",
          "description": "Returned"
        }
      ],
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 34,
        "col": 1
      }
    },
    {
      "name": "ShippingPriority",
      "type": "enum",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 44,
      "values": [
        {
          "name": "standard",
          "description": "Standard Shipping",
          "type": "integer",
          "value": "0"
        },
        {
          "name": "express",
          "description": "Express Shipping",
          "type": "integer",
          "value": "1"
        },
        {
          "name": "overnight",
          "description": "Overnight Delivery",
          "type": "integer",
          "value": "2"
        }
      ],
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 44,
        "col": 1
      }
    }
  ],
  "interfaces": [
    {
      "name": "Timestampable",
      "type": "interface",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 8,
      "inherits": [],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 8,
        "col": 1
      }
    },
    {
      "name": "Auditable",
      "type": "interface",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 13,
      "inherits": [],
      "attributes": [],
      "fields": [
        {
          "name": "created_by",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 15,
            "col": 1
          }
        },
        {
          "name": "updated_by",
          "type": "string",
          "params": [
            100
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 16,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 13,
        "col": 1
      }
    }
  ],
  "views": [
    {
      "name": "ActiveProducts",
      "type": "view",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 237,
      "inherits": [],
      "attributes": [],
      "materialized": false,
      "fields": [],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 237,
        "col": 1
      },
      "description": "Products currently available for sale.",
      "source_def": {
        "from": "Product",
        "where": "is_active = true AND price > 0",
        "order_by": "name asc"
      }
    },
    {
      "name": "CustomerOrderSummary",
      "type": "view",
      "source": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
      "line": 248,
      "inherits": [],
      "attributes": [],
      "materialized": true,
      "fields": [
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "from",
              "args": [
                "Customer.id"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 258,
            "col": 1
          }
        },
        {
          "name": "customer_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "from",
              "args": [
                "Customer.name"
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 259,
            "col": 1
          }
        },
        {
          "name": "total_orders",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"COUNT(Order.id)\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 260,
            "col": 1
          },
          "computed": {
            "expression": "COUNT(Order.id)"
          }
        },
        {
          "name": "total_spent",
          "type": "decimal",
          "params": [
            12,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"SUM(Order.grand_total)\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 261,
            "col": 1
          },
          "computed": {
            "expression": "SUM(Order.grand_total)"
          }
        },
        {
          "name": "avg_order_value",
          "type": "decimal",
          "params": [
            10,
            2
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"AVG(Order.grand_total)\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 262,
            "col": 1
          },
          "computed": {
            "expression": "AVG(Order.grand_total)"
          }
        },
        {
          "name": "last_order_date",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "\"MAX(Order.ordered_at)\""
              ]
            }
          ],
          "loc": {
            "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
            "line": 263,
            "col": 1
          },
          "computed": {
            "expression": "MAX(Order.ordered_at)"
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "D:\\data\\m3l\\samples\\01-ecommerce.m3l.md",
        "line": 248,
        "col": 1
      },
      "description": "Aggregated customer order statistics.",
      "source_def": {
        "from": "Customer",
        "joins": [
          {
            "model": "Order",
            "on": "Customer.id = Order.customer_id"
          }
        ],
        "where": "Order.status != 'cancelled'",
        "group_by": [
          "Customer.id",
          "Customer.name",
          "Customer.email"
        ]
      },
      "refresh": {
        "strategy": "incremental",
        "interval": "1 hour"
      }
    }
  ],
  "errors": [],
  "warnings": []
}