{
  "parserVersion": "0.4.0",
  "astVersion": "1.0",
  "project": {
    "name": "sample.ecommerce"
  },
  "sources": [
    "spec/conformance/inputs/01-ecommerce.m3l.md"
  ],
  "models": [
    {
      "name": "Customer",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 52,
      "inherits": [
        "Timestampable"
      ],
      "description": "Primary customer entity for the e-commerce platform.",
      "attributes": [
        {
          "name": "public",
          "isStandard": true
        }
      ],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 56,
            "col": 1
          }
        },
        {
          "name": "email",
          "type": "email",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "Primary contact email.\nUsed for login, notifications, and account recovery.",
          "attributes": [
            {
              "name": "unique",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 57,
            "col": 1
          }
        },
        {
          "name": "name",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            },
            {
              "name": "searchable",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 60,
            "col": 1
          }
        },
        {
          "name": "phone",
          "type": "phone",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 61,
            "col": 1
          }
        },
        {
          "name": "status",
          "type": "enum",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "active",
          "default_value_type": "literal",
          "attributes": [],
          "enum_values": [
            {
              "name": "active",
              "description": "Active"
            },
            {
              "name": "inactive",
              "description": "Inactive"
            },
            {
              "name": "suspended",
              "description": "Suspended"
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 62,
            "col": 1
          }
        },
        {
          "name": "loyalty_points",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "default_value_type": "literal",
          "attributes": [
            {
              "name": "min",
              "args": [
                0.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 66,
            "col": 1
          }
        },
        {
          "name": "is_verified",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "false",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 67,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {
          "audit_enabled": true,
          "table_name": "customers"
        }
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 52,
        "col": 1
      }
    },
    {
      "name": "Address",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 75,
      "inherits": [
        "Timestampable"
      ],
      "description": "Shipping and billing address.",
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 79,
            "col": 1
          }
        },
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Customer"
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 80,
            "col": 1
          }
        },
        {
          "name": "label",
          "type": "string",
          "params": [
            50.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "Home",
          "default_value_type": "literal",
          "description": "Address label (Home, Office, etc.)",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 81,
            "col": 1
          }
        },
        {
          "name": "street",
          "type": "string",
          "params": [
            200.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 82,
            "col": 1
          }
        },
        {
          "name": "city",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 83,
            "col": 1
          }
        },
        {
          "name": "state",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 84,
            "col": 1
          }
        },
        {
          "name": "postal_code",
          "type": "string",
          "params": [
            20.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 85,
            "col": 1
          }
        },
        {
          "name": "country",
          "type": "string",
          "params": [
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "ISO 3166-1 alpha-2",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 86,
            "col": 1
          }
        },
        {
          "name": "is_default",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "false",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 87,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "args": "customer_id",
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 89
            },
            "raw": "- @index(customer_id)",
            "type": "directive",
            "unique": false
          },
          {
            "args": [
              "customer_id",
              "label"
            ],
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 90
            },
            "raw": "- @unique(customer_id, label)",
            "type": "directive",
            "unique": true
          }
        ],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 75,
        "col": 1
      }
    },
    {
      "name": "Category",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 94,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 96,
            "col": 1
          }
        },
        {
          "name": "name",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            },
            {
              "name": "searchable",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 97,
            "col": 1
          }
        },
        {
          "name": "slug",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "unique",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 98,
            "col": 1
          }
        },
        {
          "name": "parent_id",
          "type": "identifier",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Category"
              ],
              "cascade": "?",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 99,
            "col": 1
          }
        },
        {
          "name": "sort_order",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 100,
            "col": 1
          }
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "true",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 101,
            "col": 1
          }
        },
        {
          "name": "parent_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "parent_id.name"
              ],
              "isStandard": true
            }
          ],
          "lookup": {
            "path": "parent_id.name"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 104,
            "col": 1
          }
        },
        {
          "name": "product_count",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "Product.category_id",
                "count"
              ],
              "isStandard": true
            }
          ],
          "rollup": {
            "target": "Product",
            "fk": "category_id",
            "aggregate": "count"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 107,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 94,
        "col": 1
      }
    },
    {
      "name": "Product",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 111,
      "inherits": [
        "Timestampable",
        "Auditable"
      ],
      "description": "Product catalog item.",
      "attributes": [
        {
          "name": "public",
          "isStandard": true
        }
      ],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "created_by",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 15,
            "col": 1
          }
        },
        {
          "name": "updated_by",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 16,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 115,
            "col": 1
          }
        },
        {
          "name": "sku",
          "type": "string",
          "params": [
            50.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "Stock Keeping Unit",
          "attributes": [
            {
              "name": "unique",
              "isStandard": true
            },
            {
              "name": "not_null",
              "isStandard": true
            },
            {
              "name": "immutable",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 116,
            "col": 1
          }
        },
        {
          "name": "name",
          "type": "string",
          "params": [
            200.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            },
            {
              "name": "searchable",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 117,
            "col": 1
          }
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 118,
            "col": 1
          }
        },
        {
          "name": "category_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Category"
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 119,
            "col": 1
          }
        },
        {
          "name": "price",
          "type": "decimal",
          "params": [
            10.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            },
            {
              "name": "min",
              "args": [
                0.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 120,
            "col": 1
          }
        },
        {
          "name": "cost",
          "type": "decimal",
          "params": [
            10.0,
            2.0
          ],
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "Internal cost, not shown to customers",
          "attributes": [
            {
              "name": "min",
              "args": [
                0.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 121,
            "col": 1
          }
        },
        {
          "name": "weight",
          "type": "float",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "description": "Weight in kg",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 122,
            "col": 1
          }
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "true",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 123,
            "col": 1
          }
        },
        {
          "name": "tags",
          "type": "string",
          "nullable": false,
          "array": true,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 124,
            "col": 1
          }
        },
        {
          "name": "category_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "category_id.name"
              ],
              "isStandard": true
            }
          ],
          "lookup": {
            "path": "category_id.name"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 127,
            "col": 1
          }
        },
        {
          "name": "profit_margin",
          "type": "decimal",
          "params": [
            5.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "`(price - cost) / price * 100`"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "(price - cost) / price * 100"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 130,
            "col": 1
          }
        },
        {
          "name": "display_price",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "FORMAT(price, '$#,##0.00')"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "FORMAT(price, '$#,##0.00')"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 131,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "fields": [
              "category_id",
              "is_active"
            ],
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 134
            },
            "name": "idx_category"
          },
          {
            "fields": [
              "price"
            ],
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 136
            },
            "name": "idx_price"
          }
        ],
        "relations": [
          {
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 140
            },
            "raw": "category: >Category via category_id"
          }
        ],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 111,
        "col": 1
      }
    },
    {
      "name": "Inventory",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 144,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 146,
            "col": 1
          }
        },
        {
          "name": "product_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Product"
              ],
              "cascade": "!",
              "isStandard": true
            },
            {
              "name": "unique",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 147,
            "col": 1
          }
        },
        {
          "name": "quantity",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "default_value_type": "literal",
          "attributes": [
            {
              "name": "min",
              "args": [
                0.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 148,
            "col": 1
          }
        },
        {
          "name": "reserved",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "default_value_type": "literal",
          "attributes": [
            {
              "name": "min",
              "args": [
                0.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 149,
            "col": 1
          }
        },
        {
          "name": "reorder_point",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "10",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 150,
            "col": 1
          }
        },
        {
          "name": "reorder_qty",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "50",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 151,
            "col": 1
          }
        },
        {
          "name": "available",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "quantity - reserved"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "quantity - reserved"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 154,
            "col": 1
          }
        },
        {
          "name": "needs_reorder",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "available <= reorder_point"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "available <= reorder_point"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 155,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 144,
        "col": 1
      }
    },
    {
      "name": "Order",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 159,
      "inherits": [
        "Timestampable",
        "Auditable"
      ],
      "description": "Customer order with items, totals, and status tracking.",
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "created_by",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 15,
            "col": 1
          }
        },
        {
          "name": "updated_by",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 16,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 163,
            "col": 1
          }
        },
        {
          "name": "order_number",
          "type": "string",
          "params": [
            20.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "unique",
              "isStandard": true
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 164,
            "col": 1
          }
        },
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Customer"
              ],
              "cascade": "!!",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 165,
            "col": 1
          }
        },
        {
          "name": "status",
          "type": "OrderStatus",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "draft",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 166,
            "col": 1
          }
        },
        {
          "name": "shipping_address_id",
          "type": "identifier",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Address"
              ],
              "cascade": "?",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 167,
            "col": 1
          }
        },
        {
          "name": "billing_address_id",
          "type": "identifier",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Address"
              ],
              "cascade": "?",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 168,
            "col": 1
          }
        },
        {
          "name": "payment_method",
          "type": "PaymentMethod",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 169,
            "col": 1
          }
        },
        {
          "name": "notes",
          "type": "text",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 170,
            "col": 1
          }
        },
        {
          "name": "ordered_at",
          "type": "timestamp",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 171,
            "col": 1
          }
        },
        {
          "name": "shipped_at",
          "type": "timestamp",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 172,
            "col": 1
          }
        },
        {
          "name": "delivered_at",
          "type": "timestamp",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 173,
            "col": 1
          }
        },
        {
          "name": "customer_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "customer_id.name"
              ],
              "isStandard": true
            }
          ],
          "lookup": {
            "path": "customer_id.name"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 176,
            "col": 1
          }
        },
        {
          "name": "customer_email",
          "type": "email",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "customer_id.email"
              ],
              "isStandard": true
            }
          ],
          "lookup": {
            "path": "customer_id.email"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 177,
            "col": 1
          }
        },
        {
          "name": "shipping_city",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "shipping_address_id.city"
              ],
              "isStandard": true
            }
          ],
          "lookup": {
            "path": "shipping_address_id.city"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 178,
            "col": 1
          }
        },
        {
          "name": "item_count",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "OrderItem.order_id",
                "count"
              ],
              "isStandard": true
            }
          ],
          "rollup": {
            "target": "OrderItem",
            "fk": "order_id",
            "aggregate": "count"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 181,
            "col": 1
          }
        },
        {
          "name": "subtotal",
          "type": "decimal",
          "params": [
            12.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "OrderItem.order_id",
                "sum(line_total)"
              ],
              "isStandard": true
            }
          ],
          "rollup": {
            "target": "OrderItem",
            "fk": "order_id",
            "aggregate": "sum",
            "field": "line_total"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 182,
            "col": 1
          }
        },
        {
          "name": "total_quantity",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "rollup",
          "attributes": [
            {
              "name": "rollup",
              "args": [
                "OrderItem.order_id",
                "sum(quantity)"
              ],
              "isStandard": true
            }
          ],
          "rollup": {
            "target": "OrderItem",
            "fk": "order_id",
            "aggregate": "sum",
            "field": "quantity"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 183,
            "col": 1
          }
        },
        {
          "name": "tax_amount",
          "type": "decimal",
          "params": [
            12.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "subtotal * 0.1"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "subtotal * 0.1"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 186,
            "col": 1
          }
        },
        {
          "name": "grand_total",
          "type": "decimal",
          "params": [
            12.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "`subtotal + tax_amount`"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "subtotal + tax_amount"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 187,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "fields": [
              "customer_id",
              "ordered_at"
            ],
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 190
            },
            "name": "idx_customer_date"
          },
          {
            "fields": [
              "status"
            ],
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 192
            },
            "name": "idx_status"
          }
        ],
        "relations": [],
        "behaviors": [
          {
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 196
            },
            "name": "before_create",
            "raw": "- before_create: generate_order_number"
          }
        ],
        "metadata": {
          "soft_delete": true,
          "table_name": "orders"
        }
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 159,
        "col": 1
      }
    },
    {
      "name": "OrderItem",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 204,
      "inherits": [],
      "attributes": [],
      "fields": [
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 206,
            "col": 1
          }
        },
        {
          "name": "order_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Order"
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 207,
            "col": 1
          }
        },
        {
          "name": "product_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Product"
              ],
              "cascade": "!",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 208,
            "col": 1
          }
        },
        {
          "name": "quantity",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            },
            {
              "name": "min",
              "args": [
                1.0
              ],
              "isStandard": true
            },
            {
              "name": "max",
              "args": [
                9999.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 209,
            "col": 1
          }
        },
        {
          "name": "unit_price",
          "type": "decimal",
          "params": [
            10.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 210,
            "col": 1
          }
        },
        {
          "name": "discount_pct",
          "type": "decimal",
          "params": [
            5.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "0",
          "default_value_type": "literal",
          "attributes": [
            {
              "name": "min",
              "args": [
                0.0
              ],
              "isStandard": true
            },
            {
              "name": "max",
              "args": [
                100.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 211,
            "col": 1
          }
        },
        {
          "name": "product_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "product_id.name"
              ],
              "isStandard": true
            }
          ],
          "lookup": {
            "path": "product_id.name"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 214,
            "col": 1
          }
        },
        {
          "name": "product_sku",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "lookup",
          "attributes": [
            {
              "name": "lookup",
              "args": [
                "product_id.sku"
              ],
              "isStandard": true
            }
          ],
          "lookup": {
            "path": "product_id.sku"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 215,
            "col": 1
          }
        },
        {
          "name": "discount_amount",
          "type": "decimal",
          "params": [
            10.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "unit_price * quantity * discount_pct / 100"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "unit_price * quantity * discount_pct / 100"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 218,
            "col": 1
          }
        },
        {
          "name": "line_total",
          "type": "decimal",
          "params": [
            12.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "`unit_price * quantity - discount_amount`"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "unit_price * quantity - discount_amount"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 219,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "args": [
              "order_id",
              "product_id"
            ],
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 221
            },
            "raw": "- @unique(order_id, product_id)",
            "type": "directive",
            "unique": true
          }
        ],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 204,
        "col": 1
      }
    },
    {
      "name": "Review",
      "type": "model",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 225,
      "inherits": [
        "Timestampable"
      ],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        },
        {
          "name": "id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "pk"
            },
            {
              "name": "generated",
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 227,
            "col": 1
          }
        },
        {
          "name": "product_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Product"
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 228,
            "col": 1
          }
        },
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "reference",
              "args": [
                "Customer"
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 229,
            "col": 1
          }
        },
        {
          "name": "rating",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "not_null",
              "isStandard": true
            },
            {
              "name": "min",
              "args": [
                1.0
              ],
              "isStandard": true
            },
            {
              "name": "max",
              "args": [
                5.0
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 230,
            "col": 1
          }
        },
        {
          "name": "title",
          "type": "string",
          "params": [
            200.0
          ],
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 231,
            "col": 1
          }
        },
        {
          "name": "body",
          "type": "text",
          "nullable": true,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 232,
            "col": 1
          }
        },
        {
          "name": "is_verified",
          "type": "boolean",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "false",
          "default_value_type": "literal",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 233,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [
          {
            "args": [
              "product_id",
              "customer_id"
            ],
            "loc": {
              "col": 1,
              "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
              "line": 235
            },
            "raw": "- @unique(product_id, customer_id)",
            "type": "directive",
            "unique": true
          }
        ],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 225,
        "col": 1
      }
    }
  ],
  "enums": [
    {
      "name": "CustomerStatus",
      "type": "enum",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 20,
      "inherits": [],
      "values": [
        {
          "name": "active",
          "description": "Active"
        },
        {
          "name": "inactive",
          "description": "Inactive"
        },
        {
          "name": "suspended",
          "description": "Suspended"
        },
        {
          "name": "pending",
          "description": "Pending Verification"
        }
      ],
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 20,
        "col": 1
      }
    },
    {
      "name": "PaymentMethod",
      "type": "enum",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 27,
      "inherits": [],
      "values": [
        {
          "name": "credit_card",
          "description": "Credit Card"
        },
        {
          "name": "bank_transfer",
          "description": "Bank Transfer"
        },
        {
          "name": "paypal",
          "description": "PayPal"
        },
        {
          "name": "cash",
          "description": "Cash on Delivery"
        }
      ],
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 27,
        "col": 1
      }
    },
    {
      "name": "OrderStatus",
      "type": "enum",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 34,
      "inherits": [],
      "values": [
        {
          "name": "draft",
          "description": "Draft"
        },
        {
          "name": "confirmed",
          "description": "Confirmed"
        },
        {
          "name": "processing",
          "description": "Processing"
        },
        {
          "name": "shipped",
          "description": "Shipped"
        },
        {
          "name": "delivered",
          "description": "Delivered"
        },
        {
          "name": "cancelled",
          "description": "Cancelled"
        },
        {
          "name": "returned",
          "description": "Returned"
        }
      ],
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 34,
        "col": 1
      }
    },
    {
      "name": "ShippingPriority",
      "type": "enum",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 44,
      "inherits": [],
      "values": [
        {
          "name": "standard",
          "description": "Standard Shipping",
          "type": "integer",
          "value": "0"
        },
        {
          "name": "express",
          "description": "Express Shipping",
          "type": "integer",
          "value": "1"
        },
        {
          "name": "overnight",
          "description": "Overnight Delivery",
          "type": "integer",
          "value": "2"
        }
      ],
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 44,
        "col": 1
      }
    }
  ],
  "interfaces": [
    {
      "name": "Timestampable",
      "type": "interface",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 8,
      "inherits": [],
      "attributes": [],
      "fields": [
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 10,
            "col": 1
          }
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "default_value": "now()",
          "default_value_type": "expression",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 11,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 8,
        "col": 1
      }
    },
    {
      "name": "Auditable",
      "type": "interface",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 13,
      "inherits": [],
      "attributes": [],
      "fields": [
        {
          "name": "created_by",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 15,
            "col": 1
          }
        },
        {
          "name": "updated_by",
          "type": "string",
          "params": [
            100.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 16,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 13,
        "col": 1
      }
    }
  ],
  "views": [
    {
      "name": "ActiveProducts",
      "type": "view",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 239,
      "inherits": [],
      "description": "Products currently available for sale.",
      "attributes": [],
      "fields": [],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "materialized": false,
      "source_def": {
        "from": "Product",
        "where": "is_active = true AND price > 0",
        "order_by": "name asc"
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 239,
        "col": 1
      }
    },
    {
      "name": "CustomerOrderSummary",
      "type": "view",
      "source": "spec/conformance/inputs/01-ecommerce.m3l.md",
      "line": 250,
      "inherits": [],
      "description": "Aggregated customer order statistics.",
      "attributes": [],
      "fields": [
        {
          "name": "customer_id",
          "type": "identifier",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "from",
              "args": [
                "Customer.id"
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 262,
            "col": 1
          }
        },
        {
          "name": "customer_name",
          "type": "string",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "stored",
          "attributes": [
            {
              "name": "from",
              "args": [
                "Customer.name"
              ],
              "isStandard": true
            }
          ],
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 263,
            "col": 1
          }
        },
        {
          "name": "total_orders",
          "type": "integer",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "`COUNT(o.id)`"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "COUNT(o.id)"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 264,
            "col": 1
          }
        },
        {
          "name": "total_spent",
          "type": "decimal",
          "params": [
            12.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "`SUM(o.grand_total)`"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "SUM(o.grand_total)"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 265,
            "col": 1
          }
        },
        {
          "name": "avg_order_value",
          "type": "decimal",
          "params": [
            10.0,
            2.0
          ],
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "`AVG(o.grand_total)`"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "AVG(o.grand_total)"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 266,
            "col": 1
          }
        },
        {
          "name": "last_order_date",
          "type": "timestamp",
          "nullable": false,
          "array": false,
          "arrayItemNullable": false,
          "kind": "computed",
          "attributes": [
            {
              "name": "computed",
              "args": [
                "`MAX(o.ordered_at)`"
              ],
              "isStandard": true
            }
          ],
          "computed": {
            "expression": "MAX(o.ordered_at)"
          },
          "loc": {
            "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
            "line": 267,
            "col": 1
          }
        }
      ],
      "sections": {
        "indexes": [],
        "relations": [],
        "behaviors": [],
        "metadata": {}
      },
      "materialized": true,
      "source_def": {
        "raw_sql": "FROM Customer c\nJOIN Order o ON c.id = o.customer_id\nWHERE o.status != 'cancelled'\nGROUP BY c.id, c.name, c.email",
        "language_hint": "sql"
      },
      "refresh": {
        "strategy": "incremental",
        "interval": "1 hour"
      },
      "loc": {
        "file": "spec/conformance/inputs/01-ecommerce.m3l.md",
        "line": 250,
        "col": 1
      }
    }
  ],
  "attributeRegistry": [],
  "errors": [],
  "warnings": []
}